{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hannah\\\\Documents\\\\EC-Utbildning\\\\ecu-backend\\\\ecu-backend-typescript\\\\src\\\\sections\\\\ContactForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { submitData } from '../script/fetch-api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ContactForm = () => {\n  _s();\n  const [contactForm, setContactForm] = useState({\n    name: '',\n    email: '',\n    comment: ''\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const [canSubmit, setCanSubmit] = useState(false);\n  const regex_email = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n  // returnerar en error lista\n  const validate = values => {\n    const errors = {};\n    if (!values.name) errors.name = \"You must enter a name\";\n    if (values.name.length < 3) errors.name = \"A name must be more than 2 characters\";\n    if (/\\d/.test(values.name)) errors.name = \"A name cannot contain numbers\";\n    if (!values.email) errors.email = \"You must enter an email\";else if (!regex_email.test(values.email)) errors.email = \"You must enter a valid email adress\";\n    if (!values.comment) errors.comment = \"You must enter a comment\";\n    if (values.comment.length < 5) errors.comment = \"A comment must be more than 5 characters\";\n    return errors;\n  };\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setContactForm({\n      ...contactForm,\n      [id]: value\n    });\n  };\n  const handleNumber = e => {\n    const errors = {};\n    if (/\\d/.test(e.target.value)) {\n      errors.name = \"Name cannot contain numbers\";\n      e.target.style.color = \"red\";\n    } else e.target.style.color = \"var(--color-dark)\";\n    setFormErrors(errors);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const name = contactForm.name;\n    const email = contactForm.email;\n    const comments = contactForm.comment;\n\n    // Stoppar in kontaktformuläret i validate\n    // \"Set:ar\" de errors som finns i formErrors som skrivs ut till användaren\n    setFormErrors(validate(contactForm));\n    const errors = validate(contactForm);\n    if (errors.name && errors.email && errors.comment) {\n      console.log(\"Fel finns\");\n    } else {\n      let json = JSON.stringify({\n        name,\n        email,\n        comments\n      });\n      console.log(json);\n      if (await submitData('https://win22-webapi.azurewebsites.net/api/contactform', 'POST', json)) {\n        setCanSubmit(true);\n      } else {\n        setCanSubmit(false);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Come in Contact with Us\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), canSubmit ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center align-items-center alert alert-success\",\n          children: \"Thank you for your comment!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 38\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"name\",\n                onKeyUp: handleNumber,\n                type: \"text\",\n                placeholder: \"Your Name\",\n                value: contactForm.name,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"name-error\",\n                className: \"error\",\n                children: formErrors.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"email\",\n                type: \"email\",\n                placeholder: \"Your mail\",\n                value: contactForm.email,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"email-error\",\n                className: \"error\",\n                children: formErrors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"textarea\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"comment\",\n                placeholder: \"Comment\",\n                value: contactForm.comment,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"comment-error\",\n                className: \"error\",\n                children: formErrors.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-theme\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"corner-topLeft\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"corner-bottomRight\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 45\n              }, this), \"Send\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 37\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(ContactForm, \"YJ7goXRSdSxtTHYC0Jq9zXOnmcE=\");\n_c = ContactForm;\nexport default ContactForm;\nvar _c;\n$RefreshReg$(_c, \"ContactForm\");","map":{"version":3,"names":["React","useState","submitData","ContactForm","contactForm","setContactForm","name","email","comment","formErrors","setFormErrors","canSubmit","setCanSubmit","regex_email","validate","values","errors","length","test","handleChange","e","id","value","target","handleNumber","style","color","handleSubmit","preventDefault","comments","console","log","json","JSON","stringify"],"sources":["C:/Users/Hannah/Documents/EC-Utbildning/ecu-backend/ecu-backend-typescript/src/sections/ContactForm.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { submitData } from '../script/fetch-api'\r\n\r\nconst ContactForm = () => {\r\n\r\n    const [contactForm, setContactForm] = useState({ name: '', email: '', comment: '' })\r\n    const [formErrors, setFormErrors] = useState({})\r\n    const [canSubmit, setCanSubmit] = useState(false)\r\n\r\n    const regex_email = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/\r\n\r\n\r\n\r\n    // returnerar en error lista\r\n    const validate = (values) => {\r\n        const errors = {}\r\n\r\n        if (!values.name)\r\n            errors.name = \"You must enter a name\"\r\n        if (values.name.length < 3)\r\n            errors.name = \"A name must be more than 2 characters\"\r\n        if (/\\d/.test(values.name))\r\n            errors.name = \"A name cannot contain numbers\"\r\n\r\n        if (!values.email)\r\n            errors.email = \"You must enter an email\"\r\n        else if (!regex_email.test(values.email))\r\n            errors.email = \"You must enter a valid email adress\"\r\n\r\n        if (!values.comment)\r\n            errors.comment = \"You must enter a comment\"\r\n        if (values.comment.length < 5)\r\n            errors.comment = \"A comment must be more than 5 characters\"\r\n\r\n\r\n        return errors\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        const { id, value } = e.target\r\n        setContactForm({ ...contactForm, [id]: value })\r\n\r\n    }\r\n\r\n\r\n    const handleNumber = (e) => {\r\n        const errors = {}\r\n\r\n        if (/\\d/.test(e.target.value)) {\r\n            errors.name = \"Name cannot contain numbers\"\r\n            e.target.style.color = \"red\"\r\n        }\r\n        else\r\n            e.target.style.color = \"var(--color-dark)\"\r\n\r\n        setFormErrors(errors)\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n\r\n        const name = contactForm.name\r\n        const email = contactForm.email\r\n        const comments = contactForm.comment\r\n\r\n\r\n        // Stoppar in kontaktformuläret i validate\r\n        // \"Set:ar\" de errors som finns i formErrors som skrivs ut till användaren\r\n        setFormErrors(validate(contactForm))\r\n\r\n        const errors = validate(contactForm)\r\n\r\n        if (errors.name && errors.email && errors.comment) {\r\n            console.log(\"Fel finns\")\r\n        } else {\r\n\r\n            let json = JSON.stringify({ name, email, comments })\r\n            console.log(json)\r\n\r\n            if (await submitData('https://win22-webapi.azurewebsites.net/api/contactform', 'POST', json)) {\r\n                setCanSubmit(true)\r\n            } else {\r\n                setCanSubmit(false)\r\n            }\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n\r\n            <div className=\"form-div\">\r\n                <div className=\"container\">\r\n                    <p>Come in Contact with Us</p>\r\n\r\n                    {\r\n                        canSubmit ? (<div className='d-flex justify-content-center align-items-center alert alert-success'>Thank you for your comment!</div>)\r\n                            :\r\n                            (\r\n                                <>\r\n\r\n                                    <form onSubmit={handleSubmit} noValidate>\r\n                                        <div>\r\n                                            <input id=\"name\" onKeyUp={handleNumber} type=\"text\" placeholder=\"Your Name\" value={contactForm.name} onChange={handleChange}></input>\r\n                                            <div id=\"name-error\" className=\"error\">{formErrors.name}</div>\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <input id=\"email\" type=\"email\" placeholder=\"Your mail\" value={contactForm.email} onChange={handleChange}></input>\r\n                                            <div id=\"email-error\" className=\"error\">{formErrors.email}</div>\r\n                                        </div>\r\n\r\n                                        <div className=\"textarea\">\r\n                                            <textarea id=\"comment\" placeholder=\"Comment\" value={contactForm.comment} onChange={handleChange}></textarea>\r\n                                            <div id=\"comment-error\" className=\"error\">{formErrors.comment}</div>\r\n                                        </div>\r\n\r\n                                        <button type=\"submit\" className=\"btn-theme\">\r\n                                            <span className=\"corner-topLeft\"></span>\r\n                                            <span className=\"corner-bottomRight\"></span>\r\n                                            Send\r\n                                        </button>\r\n\r\n                                    </form>\r\n\r\n                                </>\r\n                            )\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ContactForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}